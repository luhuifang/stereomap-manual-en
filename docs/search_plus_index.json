{"./":{"url":"./","title":"Overview","keywords":"","body":"OverviewOverview StereoMap is a desktop application designed to provide the essential analysis functionality you need to explore your Stereo-seq data interactively. © 2024 STOmics Tech Co., Ltd. at Shenzhen. All rights reserved. The products shall be for research use only, not for use in diagnostic procedures. The Content on this manual may be protected in whole or in part by applicable intellectual property laws. STOmics Tech Co., Ltd. and/or corresponding right subjects own their intellectual property rights according to law, including but not limited to trademark rights, copyrights, etc. STOmics Tech Co., Ltd. do not grant or imply the right or license to use any copyrighted content or trademark (registered or unregistered) of us or any third party. Without our written consent, no one shall use, modify, copy, publicly disseminate, change, distribute, or publish the program or Content of this manual without authorization, and shall not use the design or use the design skills to use or take possession of the trademarks, the logo or other proprietary information (including images, text, web design or form) of us or our affiliates. Nothing contained herein is intended to or shall be construed as any warranty, expression or implication of the performance of any products listed or described herein. Any and all warranties applicable to any products listed herein are set forth in the applicable terms and conditions of sale accompanying the purchase of such product. STOmics Tech Co., Ltd., Shenzhen makes no warranty and hereby disclaims any and all warranties as to the use of any third-party products or protocols described herein. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"download.html":{"url":"download.html","title":"Download","keywords":"","body":"DownloadStereoMap 4.0.0 (June, 2024)Release HighlightsSystem RequirementsWindowsPerformance NotesInstallationCompatibility with SAWSettingApplication UpdateSaving PathMicroscope SettingsDownload StereoMap 4.0.0 (June, 2024) STOmics official website If your web browser automatically blocks the installation file, select \"Keep\" to recognize it as a trusted file. Release Highlights New user interface enables image QC, manual processing, and visual exploration in one application. Open one .stereo manifest file for visualizing any datasets. Manually label regions of interest and organize labels into groups. Export differential expression analysis parameters to SAW, and import results for visualization. Manually processing images in a list of recommended steps. Release Notes -> System Requirements Windows WindowsWindows (Tools - QC only)Minimum RequirementsWindows 10 or later (64-bit)16 GB RAMSSD storage highly recommended100% scaling display setting recommendedWindows 10 or later (64-bit)8 GB RAMSSD storage highly recommended100% scaling display setting recommended Performance Notes When analyzing large datasets (100 k+ cells/bins), 32 GB RAM and a quad-core processor are highly recommended for optimal performance. When working with data on an external storage device, such as an external hard disk drive, the performance of the application may be risked by data transfer from the device, including slower I/O, heightened latency, and potential crash due to unexpected disconnection. Installation StereoMap for Windows is distributed as a self-installing executable (.exe) file. Double-click on the installation file to start installing. Follow the prompts to choose an installation directory. The default directory is the local D drive. Before you install, verify that there is enough disk space in the target directory. For both new installation and upgrade, your installation directory must meet the minimum of 20 GB of available disk space. Avoid installing the application in a directory path that has special characters or symbols. The supported characters include space, underscore, letters A - Z, and numbers 0 - 9. Compatibility with SAW SAW >= v8.0 (compatibilty of history versions) Re-run Stereo-seq Image QC to convert the compressed TAR (.tar.gz) image file to the latest version. Setting Application Update Click on the setting gear at the top right of the window to open the Setting page. Select About to get the version information and check the updates manually (internet required). If a new version is available, you will be asked to download and install a new package. You can turn on the auto-update option so that the application will check the new versions automatically in the background. Saving Path The default saving path is your installation directory, you may change it to your preferred location from Setting as shown below. Microscope Settings Tips: If you do not change any settings of your microscope, the configuration information will remain unchanged. Save your microscope configuration while performing an assessment for later use. Within the StereoMap Setting , there is a feature for saving the details of your microscope image acquisition setup as a configuration file. This configuration file can then be utilized in assessing the quality of images. Click Edit/Add under Microscope Settings to open configuration list. You can add a new , modify an existing , or remove a microscope configuration from the list. The parameters that can be saved in the microscope configuration typically include: Config Name: The name of the configuration, which will be displayed in the selection list. Manufacture: The manufacturer of the microscope. Model: The model of the microscope. Objective: The magnification and numerical aperture of the objective lens used. Overlap: Overlap ratio between FOVs. Scale: The scale or pixel-to-micron ratio of the image. It is crucial for accurately converting image measurements into real-world units. FOV Width: The width of a image FOV. FOV Height: The height of a image FOV. Set as Default: If you want to set this microscope configuration as the default option. Press the Confirm button to store your modifications to the Configuration list. This list is then utilized in the first step of Image Processing when you upload a TIFF format image that requires quality check. You can access, add, or edit this list from Image Processing as well. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"getting-started.html":{"url":"getting-started.html","title":"Getting Started","keywords":"","body":"Getting StartedWhat is StereoMap?StereoMap Input FilesVisual Explore Input FilesImage Processing Input FilesGetting Started What is StereoMap? StereoMap is a programming-free desktop application that allows you to interactively visualize and explore your Stereo-seq data from STOmics Products. You can use StereoMap to pinpoint the precise locations of genes within a tissue with subcellular resolution, discover molecular expression patterns for single or multiple genes in the original tissue section, and gain insights into the underlying biology. A typical Stereo-seq data analysis workflow involves StereoMap at both upstream and downstream steps. In the upstream, StereoMap offers Image QC and Image Processing tools to assess whether the image can be automatically processed by SAW or manually processed before analyzing with a spatial gene expression matrix. In the downstream, StereoMap provides Visual Explore functions for interactively visualizing and investigating data. Visual Explore: a key module of StereoMap for exploring Stereo-seq dataset. It enables interactive investigation of feature expression distribution across tissue within bins or cells. It also offers the ability to integrate images or multiple omics data for co-visualization or side-by-side visualization to inform downstream analysis. Image Processing: a core function for manipulating images. It allows for the manual alignment of an image with the feature expression matrix, and the execution of tissue and cell segmentation either manually or through the importation of result from external tools. The result can subsequently be transferred to the SAW analysis workflow for standard co-analysis. Tools: complementary tools support the processing of images and Stereo-seq datasets. Stereo-seq Image QC: assesses the quality of microscope images and predicts their suitability for automated analysis in SAW. StereoMap Input Files The microscope image and SAW output files listed below are needed for image processing and visualization. Visual Explore Input Files Download and unzip the SAW output bundled visualization file (visualization.tar.gz), you will find a .stereo manifest file. The .stereo manifest file is required to open any visualization data in StereoMap. It contains information about where to find the visualization files packaged in the SAW output visualization.tar.gz file. To properly open data by manifest file, please follow the rules: Highly recommend keeping the default file structure of the SAW output directory. All the files are managed in the same directory path as the manifest file by default. If a file has been moved to another place or the file name has been changed, remember to modify the corresponding file path in the manifest file. At least a feature expression matrix file (.gef) or an image pyramid file (.rpi) must be available in the directory for the Visual Explore module. File extensionDescription.stereoA manifest file in JSON format that includes experiment and pipeline information, basic analysis statistics, and references to image and spatial matrix files in the SAW output visualization file folder.Unzip the SAW-generated bundle file (visualization.tar.gz) to find this .stereo manifest file. Required to open any SAW pipeline output in StereoMap..gefThe feature expression matrix file in HDF5 format for visualization. It contains the MID count for each gene of each spot. A spot is a binning unit that has a fixed-sized square shape in which the expression value in this square is accumulated. By default, a visualization .gef includes spot sizes of bin 1, 5, 10, 20, 50, 100, 200..cellbin.gefThe cell-feature expression matrix file in HDF5 format for visualization. It contains the spatial location and area of each cell, the MID count for each gene of each cell, and the cluster the cell belongs to. In .cellbin.gef, the cell is the smallest data unit.Only available when the image was processed in SAW pipelines..rpi.rpi file saves one or multiple images in pyramidal format for better visualization. Each image is downsampled into several resolutions and each resolution layer is chopped into 256 pixels × 256 pixels tiles. If the size of a tile or a layer is smaller than 256 pixels × 256 pixels, it will remain intact. A typical SAW-generated .rpi organizes images and tiles sequentially by staining type (ssDNA, DAPI, H&E, or IF name) -> image type (registered image, tissue segmentation binary mask, or cell segmentation binary mask) -> resolution (equivalent resolution size of bin 2, bin 10, bin 50, and bin 100).Required to open any image in StereoMap Visual Explore..bin_.h5adA file stores clustering information from the spatial transcriptomics dataset in the AnnData file format. A .bin_.h5ad file is only allowed to contain the analysis results in one bin size. In the file name, stands for the Stereo-seq chip serial number, for bin size, and for leiden resolution. In a typical SAW pipeline, the spatial clustering analysis is processed with a spatial coordinate bin size of 200 and the Leiden resolution of 1.0..cellbin_*.h5adThe result of cell clustering information in AnnData file format. In the file name, represents the Stereo-seq chip serial number, corresponds to the Leiden resolution, and * denotes optional content that indicates the cell boundary correction status. If the * part is absent, the .h5ad file contains clustering results based on the feature expression matrix of cell nuclei-covered regions. However, if the * is replaced by .adjusted, the .h5ad file records clustering results based on the feature expression matrix of cell nuclear expression distance, considering a 10-pixel radius until another cell boundary is encountered. In a typical SAW pipeline, the cell clustering analysis is processed with the Leiden resolution of 1.0.Only available when the image was processed in SAW pipelines since the cell location information is derived from microscope images. Image Processing Input Files SAW embeds automated image processing algorithms to stitch image tiles, identify the boundaries of tissue and cells, and detect tracklines on the Stereo-seq chip for aligning the image with the feature expression matrix that also has tracklines. In cases where the tracklines cannot be detected or the tissue/cell boundaries are vague, you may need to manually outline or align. The Image Processing module is designed to address the need for outlining tissue or cells manually or importing results from other tools, as well as manually aligning an image to the feature expression matrix. This manual intervention can be performed on the original microscope image or the SAW automated image detection algorithms processed data. File extensionDescription.tar.gzThe compressed TAR file saves the original microscope images and the QC information.Generated from Tools -> Stereo-seq Image QC..tif or .tiffThe TIFF format image.Microscope stitched image..stereoVisualization manifest file in JSON format that includes information about where to find SAW automated image processing results and feature expression matrix.Unzip the SAW-generated bundle file (visualization.tar.gz) to find this .stereo manifest file. If the .stereo file is the Image Processing module input, at least a compressed image TAR file (.tar.gz) and a feature expression matrix file (.gef) must be available in the directory. Both paths need to be recorded in the manifest file for easy reference. The image .tar.gz file in the SAW output bundle file saves the auto image segmentation and registration records. Depending on the content of the input files, the expected result from Image Processing might be different. More details are described in Navigation for Image Processing. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/navigation.html":{"url":"tutorials/navigation.html","title":"Navigation","keywords":"","body":"NavigationNavigation for Visual ExploreNavigation for Image ProcessingNavigation for ToolsNavigation for Bioinformatics AnalysisNavigation Navigation for Visual Explore Orientation of user interface and features. Navigation For Visual Explore Navigation for Image Processing Learn how to processing images manually when the images fail QC, or any of the image registration, tissue segmentation, or cell identification. Orientation of image manually processing step-by-step workflow. Navigation For Image Processing Navigation for Tools Find small tools that assist your Stereo-seq analysis. Navigation For Tools Navigation for Bioinformatics Analysis Learn how to use StereoMap with datasets of different products. Bioinformatics Analysis © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/navigation-for-visual-explore/":{"url":"tutorials/navigation-for-visual-explore/","title":"Navigation for Visual Explore","keywords":"","body":"Navigation for Visual ExploreAccessing Visual ExploreLoad the DatasetVisual Explore InterfaceCanvasBin Size DropdownDisplay OptionsMouse ToolsLoad and DownloadZoom barFeature MenuLayer Menu and Bin SizesMain Analysis Layer Display OptionsGroup MenuNavigation for Visual Explore Accessing Visual Explore StereoMap's Visual Explore module can be accessed from the start page. Load the Dataset Open StereoMap and click Visual Explore to open your file system, and select .stereo file to load the dataset (see Visual Explore Input Files for more information). Visual Explore Interface The following image shows the layout of the Visual Explore interface. Canvas The Canvas shows the spatial feature expression data as spots overlaid on the ssDNA image of the tissue section, and the workspace tools are floating on the Canvas. Workspace tools: Bin Size Dropdown Click to select a desirable resolution for the spatial feature expression heatmap. Display Options Three options for adjusting the canvas panel and information pane floating on the canvas. From left to right: Setting: show or hide information panes, spot or cell tooltips, canvas navigator, or rotate canvas baseboard. Undo: undo the last selection action. The undo step is limited to 10 steps. Reset: discard all your actions and reset the canvas to its initial state. Mouse Tools Four tools from left to right are: Cursor: the mouse will toggle to the click-and-drag mouse action. Lasso: draw a freehand shape with the lasso selection tool for selecting regions of interest (ROIs). You will need to press Ctrl on your keyboard and use your mouse to draw the shape (release the mouse and press Enter to complete the selection). If you need to draw discontinuous regions, first release and then press Ctrl and mouse again between each draw. To remove an area, hold Alt or Option and draw the region to remove. The Lasso function can be employed alongside the creation of spot groups (see Group Menu for more information). This approach allows for better interpretability and the ability to group related features together. See Characterize Substructure and Generate New Heatmap or Region Annotation Based on H&E Image for more about lasso function. Reference trackline template: click to display the trackline template on the canvas. This is useful in checking whether the microscope-acquired tracklines are accurately overlaid with the reference tracklines derived from a sequencing-based spatial feature expression matrix. See Check Image Alignment for more information. Measure: measure the distance between two mouse clicks in pixels. Load and Download Two options for loading or exporting files. Load file: click to load a complementary file that corresponds to the dataset. Select Load a Lasso Record to upload a .lasso.geojson file, then you can modify the lasso area. Select Load CSV File to upload your differential expression analysis result. A new window will open with your CSV file. Download file: click to open download window for exporting images. You can customize your image prefix name in the file name enter box. You have two options for saving your screen displayed on the canvas: Screenshot Image captures everything currently displayed on the canvas. The quality of the screenshot depends on your display resolution. HD Image saves the image in a higher resolution. If the legend is displayed, it will be saved as a separate image. When you click Export, your file system will open, allowing you to choose an appropriate path. Zoom bar Toggle the zoom bar to zoom in and out the canvas. Feature Menu The Feature menu displays the summarized feature count data. Click the menu bar to expand/collapse the panel. The panel lists the feature name, total MID count, and E10 value. By default, the list is sorted in descending order by MID count, but you can also click the small arrow on the right of each table header to sort by the selected column in ascending or descending order. The E10 score is a measure of how clustered the expression pattern of a feature is. A high E10 value indicates that although the feature is distributed across the tissue region, the significant expression spots are only found in a small area. You can explore the expression of specific features by selecting feature names. Search features: You can look for the specific feature in the search bar. The search is case-insensitive and supports fuzzy search. You can search for multiple features by separating names with commas. Select one feature: Click the feature name and the feature expression distribution will then be displayed on Canvas. Select multiple features: If you want to select multiple features, just check the checkboxes in front of their feature names. This will allow you to view a summarized expression heatmap for all the selected features. Instead of showing a summarized heatmap, you can explore the co-expression of features by viewing them in different colors (see Co-expression of Selected Genes for more information). Layer Menu and Bin Sizes The Layer menu is responsible for controlling how the data is displayed in the Canvas. Layers are grouped as Image Layer and Main Analysis Layer, and the bin size panel controls the resolution of the feature density map. Image Layer has staining images and segmentation masks registered with the feature expression matrix. Image adjustments include opacity, normalization, brightness, contrast, and color. Options vary based on image type. Normalization adjusts the maximum and minimum value of the image, which helps visualize tracklines. The computation formula is: norm=Xi−min(x)max(x)−min(x)norm=\\frac{X_i-min(x)}{max(x)-min(x)}norm=​max(x)−min(x)​​X​i​​−min(x)​​ Main Analysis Layer includes feature expression matrix view in heatmap, clusters, or UMAP. The cluster or UMAP view is only applicable for limited bin sizes. See Main Analysis Layer Display Options for more information. The layers listed in this category can be opened in a new linked window by clicking in front of the layer name. The windows are linked by the spot coordinates. See Microorganism and Host Genes for more information. The available bin sizes are 1, 5, 10, 20, 50, 100, 150, 200, and cell bin (only applicable if the dataset contains cell segmentation output). Bin 1 represents one DNB per bin, while Bin 5 represents 5 x 5 DNBs as a binning unit. Cell bin means binning DNBs based on the cell covered regions. There's also an Auto-binsize switch that you can toggle. When you turn on the Auto-binsize mode, the canvas resolution will automatically adjust based on the zoom-in and zoom-out magnification. Main Analysis Layer Display Options Main analysis layers offer varied display options based on projection type and binning, for easy data exploration. Options to adjust the display of the heatmap layers: Heatmap OptionsExplanationBin NCell BinColorChoose the color scheme of the heatmap for better visualization.Spot SizeAdjust the spot size.NAOpacityAdjust the heatmap opacity for simultaneously visualize image layers.MID FilterFilter spots based on MID count. See MID Filtering for more information.Only applicable on selected features.NAColor BarShow or hide the color bar or define the expression range for coloring. By default, the color range goes from 0 to the highest value of any spot in the given bin size. However, you can customize the color range to better visualize bins that fall within a limited feature expression value range.BoundariesShow or hide tissue boundary generated from image or expression matrix. The boundary can be displayed as the outline, filled polygon, or both. The opacity of the filled polygon is adjustable.NADisplay SchemesShow expression distribution of features in summarized heatmap or discrete multi-color. See Co-expression of Selected Genes for more information.NA Options to adjust the display of the clustering layers: Cluster & UMAP OptionsExplanationBin NCell BinOpacityAdjust the clustering layer opacity for simultaneously visualize image layers.Form of cells & Outline colorSet cells to appear filled, outlined, or both. The acceptable choices for cell border colors (outlines) include colors assigned by clusters, white, black, and green.NA Group Menu The Group menu lists the spot/region groups. The group includes two types, SAW-generated groups and custom groups. SAW-generated groups list the clusters computed in SAW pipelines (SAW count, SAW realign, SAW reanalyze). You can access the cluster by first choosing the bin size that has been performed clustering, and showing the layer in Cluster. By default, the SAW-generated groups show the clustering in bin size of 200 or cell bin (if the tissue has been segmented into cells based on the image) with the Leiden resolution of 1.0. Edit the Optimization percentage value or drag the slider to adjust the display of the image layer. Click the checkbox in front of the cluster name to hide or show the clusters. Click the color dot to edit the cluster color. You can create a new group coupled with the Lasso function. Use the lasso to select a region, name the region name, and assign the label to the group. Or you can create new groups by clicking + Create a new group and assign the label to the created new group while saving lasso labels. Click after the group name to edit name or export region coordinates in GeoJSON format. You can also export differential expression analysis required parameters by clicking GeoJSON for differential expression. See Differential Expression Analysis for more information. * Click the label name lights up the selected region. The yellow region outline The selected label will be highlighted in yellow, and the corresponding statistic is displayed in the floating panel. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/navigation-for-image-processing/":{"url":"tutorials/navigation-for-image-processing/","title":"Navigation for Image Processing","keywords":"","body":"Navigation for Image ProcessingWhy Use Images in Spatial AnalysisImage Types and FormatImage Processing RoadmapAccessing Image ProcessingNavigation for Image Processing Why Use Images in Spatial Analysis The expression level of features (such as mRNA and proteins) on clinical tissues might be uneven, making it challenging to identify tissue boundaries accurately solely based on the spatial feature expression density heat map. However, microscope images of cell nuclei (such as ssDNA fluorescent staining or DAPI staining) or tissue hematoxylin and eosin (H&E) staining can clearly show the whole tissue region. The use of staining images can significantly improve the outlining of tissue or even cells. After determining the boundaries, precisely align the image with the density map and use the boundary information to obtain a subset density map of tissue or cell region for further analysis. Basic Stereo-seq image processing logic Image Types and Format Here is a summary of StereoMap and SAW support image input types and formats: Image TypesImage FormatMagnification ObjectivesStereo-seq Chip SizeNuclei-staining imagee.g. ssDNA, DAPI8 or 16-bit grayscale single-page image10XUp to 2 cm x 3 cmNuclei-staining + immunofluorescence imagee.g. DAPI + up to 6 IFs8 or 16-bit grayscale single-page image10XUp to 1 cm x 1 cmHematoxlin & Eosin (H&E) staining image24-bit color image10XUp to 1 cm x 1 cm Stereo-seq chip surface has tracklines (horizontal and vertical tracklines) with periodic intervals to assist base calling and image registration. These tracklines are areas where the capturing probe was unloaded, and will appear as narrow lines on the spatial feature expression density heatmap. Tissue staining and imaging standard operating procedures (SOPs) for Stereo-seq technology have been designed and tested to minimize their impact on downstream mRNA capture rates and enhance the visibility of tracklines in microscope images. Because the lines on the density heat map and the microscope image are the embodiment of tracklines from the chip, these lines can be used as position markers for aligning images. Here are examples of tracklines on the image and the density heat map. The images are adjusted to optimize the visibility. Tracklines on fluorescence image Tracklines on color image Tracklines on density heat map Tracklines show as black lines. Tracklines show as lighter white lines. Tracklines show as black lines. SAW embeds automated image processing algorithms to identify the boundaries of tissue and cells and detect tracklines on the Stereo-seq chip for aligning the image with the feature expression matrix. In cases where the tracklines cannot be detected or the tissue/cell boundaries are vague, you may need to outline or align manually. Image Processing Roadmap A recommended image-processing roadmap would be: Check the quality of your microscope image. This step aims to determine if tracklines are detectable, image tiles are accurately stitched, and tissue is visible. This step is a part of the SOP for the Stereo-seq experiment that involves using an image QC tool to determine whether the image can be processed automatically by SAW. It is highly recommended to perform QC during the experiment to simplify subsequent image analysis. However, to make the image processing procedure more user-friendly, the QC step has also been embedded in the Image Processing module. For more information on what to evaluate and evaluation criteria, please refer to the Image QC page. Register the image to the spatial feature expression density heat map. Overlap the image to the density map, and transform the image to match the orientation and the scale. For multiple IF images, please check the registration result of each image. Upon completion of this step, you can directly export the intermediate result and receive a TIFF format image. This image, which is the microscope image that has been reoriented and resized to align with the matrix, can be utilized with any third-party tools or algorithms to generate segmentation masks. Outline tissue and cells. Utilize drawing tools or upload custom masks generated in an external program to specify ROI regions on top of the image. For immunofluorescence (IF) images, the regions of weak intensity are highly likely background. Thus, pick intensity intervals to specify ROIs. Accurate region selection is imperative to ensure the generation of high-quality data while minimizing the risk of introducing any background noise. Export the operation recording file and let SAW generate spatial feature expression matrices for specific tissue regions and cells you desire. The following pages will demonstrate the step-by-step processing instructions for Stereo-seq support image types. Please follow the guide that matches your request. Accessing Image Processing StereoMap's Image Processing module can be accessed from the start page. Image Processing supports three image types, select the one that matches your image. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/navigation-for-image-processing/nuclei-staining-image.html":{"url":"tutorials/navigation-for-image-processing/nuclei-staining-image.html","title":"Nuclei-staining Image","keywords":"","body":"Nuclei-staining ImageWhy Nuclei-staining?Considerations for Nuclei-staining ImagesStep 1: Upload ImageStep 2: Image RegistrationStep 3: Tissue SegmentationStep 4: Cell SegmentationStep 5: ExportPass the TAR.GZ to SAW PipelineNuclei-staining Image Why Nuclei-staining? Nuclei-staining has no bias in labeling cells in a tissue slice, making it invaluable for determining tissue area and cell location. Stereo-seq experiments and bioinformatics analysis tools are compatible with two stains, ssDNA and DAPI. STOmics R&D team has compared and tested various commercialized staining reagents and found that ssDNA staining has the least effect on the downstream mRNA capture rate. The blue-fluorescent DAPI nucleic acid stain is a commonly used nuclear counterstain with high specificity in staining nuclei and can be used alongside other fluorescent reagents. In addition, both ssDNA and DAPI staining allow visualization of tracklines. Considerations for Nuclei-staining Images Processing nuclei-staining images in StereoMap and SAW requires either an individual acquisition stored in a single-page grayscale file at 8 or 16-bit depth or an RGB color image. (See Image Types and Format for more information) Fluorescence ImageData Type and File FormatGrayscale imageOne 8 or 16-bit grayscale single-page image file. Step 1: Upload Image Click on Choose file in the drag-and-drop box to select a compatible image file from your file system. You can also drag your selected file and drop it in the box. Only one image file is allowed for this image type. Please visit Image Processing Input Files for detailed image file information. Selecting a file triggers a file-parsing process that not only reads the image but also acquires necessary data from the input. Depending on the file type and image size, the parsing time can vary. Stereo-seq chip serial number (SN) and microscope setting provide important information in the image processing steps. The .tar.gz or .stereo the input file contains these data. However, if the input file format is .tif or .tiff, you need to enter the required information specified in this step to begin the image parsing and quality check. Specifically, you’ll be asked to input details about the microscope by choosing a microscope configuration. Refer to the Microscope Settings for additional details. Once the image parsing and quality check have been done, you can see the status of each QC indicator. These indicators are related to the image processing result, you may see some hint icons on step tags that indicate the potential risks of the steps. Hint iconDetailsDone. You have done this step.Warning. You may need to pay extra attention to this step. The image quality is not ideal for the automatic operation.For example, if you see this warning at step 2 image registration, this may indicate that the auto-registration in SAW might be wrong. You need to check the result and manually adjust it.Error. There is something wrong with your image. It cannot be processed at this step. Step 2: Image Registration In this step, you will need to adjust the orientation, position, and scale of the image to align it with the spatial feature expression matrix. If you upload the .stereo file in step 1, you can see the image and the spatial feature expression matrix once enter step 2. For .tar.gz or .tif/.tiff image file, you will need to add a .stereo file for specifying a spatial feature expression matrix as the reference. Click to select the .stereo file. Also, if your image is in the .stereo file, but you want to change the reference expression matrix, you can click the and load a new file. This action will reload the matrix, but use the image from step 1. The registration process involves two stages, roughly matching the orientation of the image based on the morphology and finely adjusting the position and scale for exact overlap with the spatial feature expression map. You can also choose \"Chip tracklines\" to display tracklines that are derived from the spatial feature expression matrix to help with fine alignment. To roughly align the image, you need to match the microscope image and the feature density map in orientation. Use the Flip tool to mirror the image. Click on and use the Control knob to rotate the image in the same direction. Once the orientation of the image and the spatial feature expression matrix have matched, you can move on to the fine-alignment steps. In the fine-alignment stage, you will need to move the image to the place where the tissue can overlap. Use the Move panel by setting the step size and pan move in four directions. The dimension of the microscope image might differ from the spatial feature expression map, you can adjust scales using Scale tool. You can align the image by checking \"Chip tracklines\" to show the reference trackline template and let the tracklines fall directly overlapped. At this time, the chip trackline template is a representation of the matrix. If the tracklines are dim, the Normalization , Contrast , Brightness , and Opacity of the image can be adjusted manually. The images are adjusted to optimize the visibility of tracklines. Example of trackline overlapping Adjusting Saturation will not affect the grayscale image. The image that has been adjusted will be marked as complete by . After the image has been aligned with the matrix, steps 3 and 4 can be bypassed. You can export the semi-processed .tar.gz image directly and feed this output to SAW for automatic segmentation. In addition, a *regist.tif image file will be provided. This is a reoriented image that matches the shape and orientation of its corresponding feature expression matrix. This image serves as the starting point for tissue and cell segmentation. If you’re considering using other external segmentation tools or algorithms, it’s strongly advised to utilize this *regist.tif file as the input. Step 3: Tissue Segmentation Tissue Segmentation is a skippable step. In this step, you will identify the tissue regions. Accurately identifying the boundaries of the tissue can significantly reduce the interference from the background in the clustering result. The image-based tissue segmentation result will be mapped onto the sequencing-based spatial feature expression matrix to create a feature density map of the tissue region. If you upload the .stereo file in step 1, you can see a semi-transparent mask overlapped on the registered microscope image. For .tar.gz or .tif/.tiff image file, you will need to use tools to draw the tissue region. In the Tissue Segmentation step, you have the option to edit the mask that was previously recorded or create a new one. Tissue mask that was recorded in the .tar.gz or .stereo file will be labeled as \"RECORD\" in the Segmentation mask dropdown menu, while the mask created by drawing or importing will be labeled as \"CUSTOM\". To change the active image displayed in the canvas, simply select from the Segmentation mask dropdown. To select or edit the tissue region, use a combination of Lasso , Brush , and Eraser tools. Lasso is typically used for selecting or deselecting large areas, while the Brush and Eraser tools are more suitable for smaller areas, such as regions around tissue or small holes in the tissue. Lasso Brush Eraser If you have created a .tif format binary mask file using a third-party tool, you can import it by clicking on the Segmentation mask dropdown on the right panel and then clicking . If the imported result is unsatisfactory, you can replace it by clicking to import a new mask. Import tissue mask Show the file name of the imported mask Replace the mask Step 4: Cell Segmentation Cell Segmentation is a skippable step. Cell identification and segmentation are the core steps in generating single-cell spatial resolved feature expression data. If you upload the .stereo file in step 1, you can see the red outlines of the cells/nuclei on the registered microscope image. For .tar.gz or .tif/.tiff image file, you will need to use tools to label cells. Cell segmentation is applicable only within the tissue region. Therefore, the areas not encompassed in the Step 3 Tissue Segmentation will appear as a black background. Similar to Tissue Segmentation, you have the option to edit the mask that was previously recorded (tagged with \"RECORD\") or create a new one (tagged with \"CUSTOM\"). Change the active mask by selecting from the Segmentation mask dropdown. Use the Lasso , Brush , and Eraser tools to select or edit cells. Lasso is best for use in deselecting large areas such as background, while the Brush and Eraser tools are more suitable for smaller areas, such as marking cells or separating cell clusters. Lasso to select a cell Lasso to deselect some cells Brush Eraser It is recommended to import a.tif format cell mask file created from the registered image by any third-party tools. You can import it by clicking on the Segmentation mask dropdown and then accessing your file system by clicking . If the imported result is unsatisfactory, you can replace it by clicking to import a new mask. Import cell mask Show the file name of the imported mask Replace the mask Step 5: Export The final step is to export the results of image registration, tissue segmentation, and cell segmentation. Click Export image processing record to generate a .tar.gz file. This output file can be located in your file system, specifically under the StereoMapWorkspace -> Processing folder, which is in your designated saving path. The saving path can be modified in Setting. If you have manually adjusted the image alignment with the matrix, you will also find a *regist.tif file in your output folder. Alternatively, this TIFF file can be located in the SAW output directory under the /outs/ folder. The .tar.gz file contains the original image and records of the manual process. This file will be used in SAW to analyze sequencing data and images together. The internal structure of the .tar.gz is fixed and modification of the structure or any of the files in it is not recommended. The *regist.tif file is a registered image that has been cropped and resized to match the dimension of the feature expression matrix. It can be utilized in any third-party tool, and the resulting data can be re-imported to StereoMap. Pass the TAR.GZ to SAW Pipeline There are two options for transferring the output of Image Processing to SAW. One option is to use the --image-tar argument to feed the .tar.gz file into the SAW count pipeline. This will process the image together with the Stereo-seq FASTQ files and produce the HTML summary report. cd /saw/runs saw count \\ --id= \\ --sn= \\ --omics= \\ --kit-version= \\ --sequencing-type= \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/path/to/fastq/folders \\ --reference=/path/to/reference/folder \\ --image-tar=/path/to/image/tar Another choice is to use the --realigned-image-tar argument to input the .tar.gz file into the SAW realign pipeline. SAW realign will bypass the CID mapping and genome alignment steps, and re-generate aligned images, obtain the feature expression matrix at tissue and cell level, and produce an updated HTML report. cd /saw/runs saw realign \\ --id= \\ --sn= \\ --count-data=/path/to/previous/SAW/count/task/folder/id \\ --realigned-image-tar=/path/to/realigned/image/tar © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/navigation-for-image-processing/nuclei-staining-+-immunofluorescence-image.html":{"url":"tutorials/navigation-for-image-processing/nuclei-staining-+-immunofluorescence-image.html","title":"Nuclei-staining + Immunofluorescence Image","keywords":"","body":"Nuclei-staining + Immunofluorescence ImageWhy Nuclei-staining + Immunofluorescence Image?Considerations for Nuclei-staining Images and Immunofluorescence ImagesStep 1: Upload ImageStep 2: Image RegistrationStep 3: Tissue SegmentationSegmentation of the Nuclei-staining imageSegmentation of the IF imagesStep 4: Cell SegmentationStep 5: ExportPass the TAR.GZ to SAW PipelineNuclei-staining + Immunofluorescence Image Why Nuclei-staining + Immunofluorescence Image? Immunofluorescence (IF) is a widely used image-based technique to visualize the subcellular distribution of the proteome in cells. For instance, nuclei can be stained with DAPI, while T cells can be identified using CD3. Multiplex IF (mIF) can be tagged on the tissue section and scanned by the fluorescence microscope simultaneously. Stereo-seq experiments and bioinformatics analysis tools are compatible with DAPI and up to 6 user-defined IFs, enabling spatial discovery across a tissue sample. Considerations for Nuclei-staining Images and Immunofluorescence Images Since each of the selected IFs has a specific fluorescence spectrum and all of them are applied together on the same tissue slice, there are several challenges to consider, especially in the IF selection and imaging platform. Each IF has a specific fluorescence spectrum and it's essential to manage the degree of spectral overlap among the IFs you choose. Additionally, it is crucial to consider the available emission and excitation filters of your imaging platform. The fluorescence microscope scans tissue areas with IF tags either by switching the filter at the same scan area until the whole tissue area has been reached or by switching the filter after scanning the entire tissue area. Both methods require keeping the chip in place without any movement between each scan to ensure the tissue position in the IF images remains consistent in terms of both scale and orientation. Processing nuclei-staining + mIF images in StereoMap and SAW requires a set of individual acquisitions stored in a single-page grayscale file at 8 or 16-bit depth. (See Image Types and Format for more information) Fluorescence ImageData Type and File FormatGrayscale imageMultiple 8 or 16-bit grayscale single-page image files Step 1: Upload Image Click on Choose file in the drag-and-drop box to upload a compatible image file from your file system. You can also drag and drop your selected file(s) into the corresponding box. If your input image file is either a .tar.gz or a .stereo file, drag and drop it only once to the left-side box. However, if your input file format is .tif or .tiff, you need to drop your nuclei-staining DAPI image to the left-side box and select and drop all your IF images to the right-side box together. Please visit Image Processing Input Files for detailed image file information. Selecting a file triggers a file-parsing process that not only reads the image but also acquires necessary data from the input. Depending on the file type and image size, the parsing time can vary. Stereo-seq chip serial number (SN) and microscope setting provide important information in the image processing steps. The .tar.gz or .stereo the input file contains these data. However, if the input file format is .tif or .tiff, you need to enter the required information specified in this step to begin the image parsing and quality check. Specifically, you’ll be asked to input details about the microscope by choosing a microscope configuration. Refer to the Microscope Settings for additional details. Once the image parsing and quality check have been done, you can see the status of each QC indicator. These indicators are related to the image processing result, you may see some hint icons on step tags that indicate the potential risks of the steps. Hint iconDetailsDone. You have done this step.Warning. You may need to pay extra attention to this step. The image quality is not ideal for the automatic operation.For example, if you see this warning at step 2 image registration, this may indicate that the auto-registration in SAW might be wrong. You need to check the result and manually adjust it.Error. There is something wrong with your image. It cannot be processed at this step. Step 2: Image Registration In this step, you will need to adjust the orientation, position, and scale of the image to align each of them with the spatial feature expression matrix. If you upload the .stereo file in step 1, you can see the image and the spatial feature expression matrix once enter step 2. For .tar.gz or .tif/.tiff image file, you will need to add a .stereo file for specifying a spatial feature expression matrix as the reference. Click to select the .stereo file. Also, if your images are in the .stereo file, but you want to change the reference expression matrix, you can click the and load a new file. This action will reload the matrix, but use the images from step 1. The registration process involves two stages, roughly matching the orientation of the image based on the morphology and finely adjusting the position and scale for exact overlap with the spatial feature expression map. You can also choose \"Chip tracklines\" to display tracklines that are derived from the spatial feature expression matrix to help with fine alignment. To roughly align the image, you need to match the microscope image and the feature density map in orientation. Use the Flip tool to mirror the image. Click on and use the Control knob to rotate the image in the same direction. Once the orientation of the image and the spatial feature expression matrix have matched, you can move on to the fine-alignment steps. In the fine-alignment stage, you will need to move the image to the place where the tissue can overlap. Use the Move panel by setting the step size and pan move in four directions. The dimension of the microscope image might differ from the spatial feature expression map, you can adjust scales using the Scale tool. You can align the image by checking \"Chip tracklines\" to show the reference trackline template and let the tracklines fall directly overlapped. At this time, the chip trackline template is a representation of the matrix. If the tracklines are dim, the Normalization , Contrast , Brightness , and Opacity of the image can be adjusted manually. In the case of IF images, the tracklines might not be visible directly from the image. However, altering the matrix color could help to bring out some hidden patterns. The images are adjusted to optimize the visibility of tracklines. Example of trackline overlapping Adjusting Saturation will not affect the grayscale image. For IF images in which the tracklines cannot be seen, you can roughly align the images using the parameters from the nuclei-staining image and further adjust based on morphology. The image that has been adjusted will be marked as complete by . Make sure all the images listed in the drop-down box have been checked. After the image has been aligned with the matrix, steps 3 and 4 can be bypassed. You can export the semi-processed .tar.gz image directly and feed this output to SAW for automatic segmentation. In addition, a *regist.tif image file will be provided. This is a reoriented image that matches the shape and orientation of its corresponding feature expression matrix. This image serves as the starting point for tissue and cell segmentation. If you’re considering using other external segmentation tools or algorithms, it’s strongly advised to utilize this *regist.tif file as the input. Step 3: Tissue Segmentation Tissue Segmentation is a skippable step. In this step, you will identify the tissue regions. Accurately identifying the boundaries of the tissue can significantly reduce the interference from the background in the clustering result. The image-based tissue segmentation result will be mapped onto the sequencing-based spatial feature expression matrix to create a feature density map of the tissue region. For IF images, it's more important to select the region with strong immunofluorescence intensity rather than outlining the tissue boundaries. If you upload the .stereo file in step 1, you can see a semi-transparent mask overlapped on the registered microscope image. For .tar.gz or .tif/.tiff image file, you will need to use tools to draw the tissue region. Segmentation of the Nuclei-staining image In the Tissue Segmentation step, you have the option to edit the mask that was previously recorded or create a new one. The panel of tissue identification for the nuclei-staining image is under the Tissue Seg tag. Tissue mask that was recorded in the .tar.gz or .stereo file will be labeled as \"RECORD\" in the Segmentation mask dropdown menu, while the mask created by drawing or importing will be labeled as \"CUSTOM\". To change the active mask displayed in the canvas, simply select from the Segmentation mask dropdown. To select or edit the tissue region, use a combination of Lasso , Brush , and Eraser tools. Lasso is typically used for selecting or deselecting large areas, while the Brush and Eraser tools are more suitable for smaller areas, such as regions around tissue or small holes in the tissue. Lasso Brush Eraser If you have created a .tif format binary mask file using a third-party tool, you can import it by clicking on the Segmentation mask dropdown on the right panel and then clicking . If the imported result is unsatisfactory, you can replace it by clicking to import a new mask. Import tissue mask Show the file name of the imported mask Replace the mask Segmentation of the IF images To identify regions where the protein is actively expressed from the IF images, go to the Gray Scale tag. First, select the active IF image from the Immunofluorescence image dropdown. Then, adjust the sliders for the Fluorescence intensity threshold. The pixels in the image whose values fall within the selected range will be kept as the region of the IF. Step 4: Cell Segmentation Cell Segmentation is a skippable step. Cell identification and segmentation are the core steps in generating single-cell spatial resolved feature expression data. In the current version, cell segmentation is only performed on the nuclei-staining image. If you upload the .stereo file in step 1, you can see the red outlines of the cells/nuclei on the registered microscope image. For .tar.gz or .tif/.tiff image file, you will need to use tools to label cells. Cell segmentation is applicable only within the tissue region. Therefore, the areas not encompassed in the Step 3 Tissue Segmentation will appear as a black background. Similar to Tissue Segmentation, you have the option to edit the mask that was previously recorded (tagged with \"RECORD\") or create a new one (tagged with \"CUSTOM\"). Change the active mask by selecting from the Segmentation mask dropdown. Use the Lasso , Brush , and Eraser tools to select or edit cells. Lasso is best for use in deselecting large areas such as background, while the Brush and Eraser tools are more suitable for smaller areas, such as marking cells or separating cell clusters. Lasso to select a cell Lasso to deselect some cells Brush Eraser It is recommended to import a.tif format cell mask file created from the registered image by any third-party tools. You can import it by clicking on the Segmentation mask dropdown and then accessing your file system by clicking . If the imported result is unsatisfactory, you can replace it by clicking to import a new mask. Import cell mask Show the file name of the imported mask Replace the mask Step 5: Export The final step is to export the results of image registration, tissue segmentation, and cell segmentation. Click Export image processing record to generate a .tar.gz file. This output file can be located in your file system, specifically under the StereoMapWorkspace -> Processing folder, which is in your designated saving path. The saving path can be modified in Setting. If you have manually adjusted the image alignment with the matrix, you will also find a *regist.tif file in your output folder. Alternatively, this TIFF file can be located in the SAW output directory under the /outs/ folder. The .tar.gz file contains the original images and records of the manual process. This file will be used in SAW to analyze sequencing data and images together. The internal structure of the .tar.gz is fixed and modification of the structure or any of the files in it is not recommended. The *regist.tif file is a registered image that has been cropped and resized to match the dimension of the feature expression matrix. It can be utilized in any third-party tool, and the resulting data can be re-imported to StereoMap. Pass the TAR.GZ to SAW Pipeline There are two options for transferring the output of Image Processing to SAW. One option is to use the --image-tar argument to feed the .tar.gz file into the SAW count pipeline. This will process the image together with the Stereo-seq FASTQ files and produce the HTML summary report. cd /saw/runs saw count \\ --id= \\ --sn= \\ --omics= \\ --kit-version= \\ --sequencing-type= \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/path/to/fastq/folders \\ --reference=/path/to/reference/folder \\ --image-tar=/path/to/image/tar Another choice is to use the --realigned-image-tar argument to input the .tar.gz file into the SAW realign pipeline. SAW realign will bypass the CID mapping and genome alignment steps, and re-generate aligned images, obtain the feature expression matrix at tissue and cell level, and produce an updated HTML report. cd /saw/runs saw realign \\ --id= \\ --sn= \\ --count-data=/path/to/previous/SAW/count/task/folder/id \\ --realigned-image-tar=/path/to/realigned/image/tar © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/navigation-for-image-processing/hematoxylin-and-eosin-staining-image.html":{"url":"tutorials/navigation-for-image-processing/hematoxylin-and-eosin-staining-image.html","title":"Hematoxylin & Eosin Staining Image","keywords":"","body":"Hematoxylin & Eosin Staining ImageWhy Hematoxylin & Eosin Staining Image?Considerations for H&E Staining ImagesStep 1: Upload ImageStep 2: Image RegistrationStep 3: Tissue SegmentationStep 4: Cell SegmentationStep 5: ExportPass the TAR.GZ to SAW PipelineHematoxylin & Eosin Staining Image Why Hematoxylin & Eosin Staining Image? Hematoxylin and eosin stain (H&E stain) is a widely used tissue stain that provides histologic information for medical diagnosis and is considered the gold standard. Hematoxylin mainly stains cell nuclei in purplish blue, and eosin colors cytoplasm and extracellular matrix in different shades of pink. By integrating spatially resolved sequencing-based feature data generated from Stereo-seq with the H&E staining image, the morphology of cells can be linked with spatially localized feature expression. The combined use of histology images and feature expression co-representation increases the amount of information that a tissue slice can provide. Considerations for H&E Staining Images Stereo-seq chip is a non-transparent silicon chip, so the H&E stained image should be scanned by a bright-field microscope using reflective light. The background color of the H&E image is close to white, and the representation of tracklines is lighter white. Different from fluorescence images, which only illustrate relatively simple information with shades of gray, H&E staining images provide sophisticated histopathology information by combining R-G-B colors. Therefore, the file size of an RGB image is much larger than a grayscale image in the same dimensions, and the required computing resources are much higher. Currently, StereoMap requires a minimum of 16GB RAM, which is only sufficient for processing a 24-bit color, 10X objective image for a 1 cm x 1 cm chip. Processing H&E images in StereoMap and SAW requires an individual acquisition stored in a single-page color file at 24-bit depth. (See Image Types and Format for more information) Bright-field ImageData Type and File FormatColor imageOne 24-bit color single-page image file Step 1: Upload Image Click on Choose file in the drag-and-drop box to select a compatible image file from your file system. You can also drag your selected file and drop it in the box. Only one image file is allowed for this image type. Please visit Image Processing Input Files for detailed image file information. Selecting a file triggers a file-parsing process that not only reads the image but also acquires necessary data from the input. Depending on the file type and image size, the parsing time can vary. Stereo-seq chip serial number (SN) and microscope setting provide important information in the image processing steps. The .tar.gz or .stereo the input file contains these data. However, if the input file format is .tif or .tiff, you need to enter the required information specified in this step to begin the image parsing and quality check. Specifically, you’ll be asked to input details about the microscope by choosing a microscope configuration. Refer to the Microscope Settings for additional details. Once the image parsing and quality check have been done, you can see the status of each QC indicator. These indicators are related to the image processing result, you may see some hint icons on step tags that indicate the potential risks of the steps. Hint iconDetailsDone. You have done this step.Warning. You may need to pay extra attention to this step. The image quality is not ideal for the automatic operation.For example, if you see this warning at step 2 image registration, this may indicate that the auto-registration in SAW might be wrong. You need to check the result and manually adjust it.Error. There is something wrong with your image. It cannot be processed at this step. Step 2: Image Registration In this step, you will need to adjust the orientation, position, and scale of the image to align it with the spatial feature expression matrix. If you upload the .stereo file in step 1, you can see the image and the spatial feature expression matrix once enter step 2. For .tar.gz or .tif/.tiff image file, you will need to add a .stereo file for specifying a spatial feature expression matrix as the reference. Click to select the .stereo file. Also, if your image is in the .stereo file, but you need to change the reference expression matrix, you can click the and load a new file. This action will reload the matrix, but use the image from step 1. The registration process involves two stages, roughly matching the orientation of the image based on the morphology and finely adjusting the position and scale for exact overlap with the spatial feature expression map. You can also choose \"Chip tracklines\" to display tracklines that are derived from the spatial feature expression matrix to help with fine alignment. To roughly align the image, you need to match the microscope image and the feature density map in orientation. Use the Flip tool to mirror the image. Click on and use the Control knob to rotate the image in the same direction. Once the orientation of the image and the spatial feature expression matrix have matched, you can move on to the fine-alignment steps. In the fine-alignment stage, you will need to move the image to the place where the tissue can overlap. Use the Move panel by setting the step size and pan move in four directions. The dimension of the microscope image might differ from the spatial feature expression map, you can adjust scales using the Scale tool. You can align the image by checking \"Chip tracklines\" to show the reference trackline template and let the tracklines fall directly overlapped. At this time, the chip trackline template is a representation of the matrix. If the tracklines are dim, the Normalization , Contrast , Brightness , Opacity , and Saturation of the image can be adjusted manually. The images are adjusted to optimize the visibility of tracklines. Example of trackline overlapping The image that has been adjusted will be marked as complete by . After the image has been aligned with the matrix, steps 3 and 4 can be bypassed. You can export the semi-processed .tar.gz image directly and feed this output to SAW for automatic segmentation. In addition, a *regist.tif image file will be provided. This is a reoriented image that matches the shape and orientation of its corresponding feature expression matrix. This image serves as the starting point for tissue and cell segmentation. If you’re considering using other external segmentation tools or algorithms, it’s strongly advised to utilize this *regist.tif file as the input. Step 3: Tissue Segmentation Tissue Segmentation is a skippable step. In this step, you will identify the tissue regions. Accurately identifying the boundaries of the tissue can significantly reduce the interference from the background in the clustering result. The image-based tissue segmentation result will be mapped onto the sequencing-based spatial feature expression matrix to create a feature density map of the tissue region. If you upload the .stereo file in step 1, you can see a semi-transparent mask overlapped on the registered microscope image. For .tar.gz or .tif/.tiff image file, you will need to use tools to draw the tissue region. In the Tissue Segmentation step, you have the option to edit the mask that was previously recorded or create a new one. Tissue mask that was recorded in the .tar.gz or .stereo file will be labeled as \"RECORD\" in the Segmentation mask dropdown menu, while the mask created by drawing or importing will be labeled as \"CUSTOM\". To change the active mask displayed in the canvas, simply select from the Segmentation mask dropdown. To select or edit the tissue region, use a combination of Lasso , Brush , and Eraser tools. Lasso is typically used for selecting or deselecting large areas, while the Brush and Eraser tools are more suitable for smaller areas, such as regions around tissue or small holes in the tissue. Lasso Brush Eraser If you have created a .tif format binary mask file using a third-party tool, you can import it by clicking on the Segmentation mask dropdown on the right panel and then clicking . If the imported result is unsatisfactory, you can replace it by clicking to import a new mask. Import tissue mask Show the file name of the imported mask Replace the mask Step 4: Cell Segmentation Cell Segmentation is a skippable step. Cell identification and segmentation are the fundamental steps in generating spatially resolved single-cell feature expression data. For H&E images, segmentation can be performed on either nucleus regions or cell regions. If you upload the .stereo file in step 1, you can see the red outlines of the cells/nuclei on the registered microscope image. For .tar.gz or .tif/.tiff image file, you will need to use tools to label cells. Cell segmentation is applicable only within the tissue region. Therefore, the areas not encompassed in the Step 3 Tissue Segmentation will appear as a white background. Similar to Tissue Segmentation, you have the option to edit the mask that was previously recorded (tagged with \"RECORD\") or create a new one (tagged with \"CUSTOM\"). Change the active mask by selecting from the Segmentation mask dropdown. Use the Lasso , Brush , and Eraser tools to select or edit cells. Lasso is best for use in deselecting large areas such as background, while the Brush and Eraser tools are more suitable for smaller areas, such as marking cells or separating cell clusters. Lasso to select a cell Lasso to deselect some cells Brush Eraser It is recommended to import a.tif format cell mask file created from the registered image by any third-party tools. You can import it by clicking on the Segmentation mask dropdown and then accessing your file system by clicking . If the imported result is unsatisfactory, you can replace it by clicking to import a new mask. Import cell mask Show the file name of the imported mask Replace the mask Step 5: Export The final step is to export the results of image registration, tissue segmentation, and cell segmentation. Click Export image processing record to generate a .tar.gz file. This output file can be located in your file system, specifically under the StereoMapWorkspace -> Processing folder, which is in your designated saving path. The saving path can be modified in Setting. If you have manually adjusted the image alignment with the matrix, you will also find a *regist.tif file in your output folder. Alternatively, this TIFF file can be located in the SAW output directory under the /outs/ folder. The .tar.gz file contains the original image and records of the manual process. This file will be used in SAW to analyze sequencing data and images together. The internal structure of the .tar.gz is fixed and modification of the structure or any of the files in it is not recommended. The *regist.tif file is a registered image that has been cropped and resized to match the dimension of the feature expression matrix. It can be utilized in any third-party tool, and the resulting data can be re-imported to StereoMap. Pass the TAR.GZ to SAW Pipeline There are two options for transferring the output of Image Processing to SAW. One option is to use the --image-tar argument to feed the .tar.gz file into the SAW count pipeline. This will process the image together with the Stereo-seq FASTQ files and produce the HTML summary report. cd /saw/runs saw count \\ --id= \\ --sn= \\ --omics= \\ --kit-version= \\ --sequencing-type= \\ --chip-mask=/path/to/chip/mask \\ --organism= \\ --tissue= \\ --fastqs=/path/to/fastq/folders \\ --reference=/path/to/reference/folder \\ --image-tar=/path/to/image/tar Another choice is to use the --realigned-image-tar argument to input the .tar.gz file into the SAW realign pipeline. SAW realign will bypass the CID mapping and genome alignment steps, and re-generate aligned images, obtain the feature expression matrix at tissue and cell level, and produce an updated HTML report. cd /saw/runs saw realign \\ --id= \\ --sn= \\ --count-data=/path/to/previous/SAW/count/task/folder/id \\ --realigned-image-tar=/path/to/realigned/image/tar © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/navigation-for-tools/":{"url":"tutorials/navigation-for-tools/","title":"Navigation for Tools","keywords":"","body":"Navigation for ToolsStereo-seq Image QCNavigation for Tools Stereo-seq Image QC Learn about acceptable image format, QC criteria, Image QC user interface, and staining-specific considerations. Stereo-seq Image QC © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/navigation-for-tools/stereo-seq-image-qc.html":{"url":"tutorials/navigation-for-tools/stereo-seq-image-qc.html","title":"Stereo-seq Image QC","keywords":"","body":"Stereo-seq Image QCAccessing Image QCInput Image RecommendationImage Data TypesImage File FormatQC CriteriaImage QC NavigationQC Tips Specific for Image TypesNuclei-staining Image: ssDNA or DAPINuclei-staining & Immunofluorescence Image: DAPI + mIFHematoxylin & Eosin Staining Image: H&EUploading SettingsBuilt-in Upload PathCustomize Upload PathStereo-seq Image QC Image QC serves to evaluate the appropriateness of microscope images obtained from the Stereo-seq experiment for precise automated analysis within the Stereo-seq Analysis Workflow (SAW). Accessing Image QC StereoMap's Image QC can be accessed from the Tools page. Input Image Recommendation The acceptable types of images include nuclei-staining images (e.g., ssDNA or DAPI), a set of nuclei-staining images (e.g. DAPI) and up to 6 immunofluorescence images (IF images), as well as color images (specifically H&E images). The recommended file format for images is TIFF. Additionally, some microscope file formats such as CZI files from ZEISS or image tiles organized in a folder from Motic are also acceptable. If you are unsure whether your imaging system is suitable for the Stereo-seq experiment, please refer to the Microscope Assessment Guideline to assess your imaging system. The guideline can be accessed from STOmics > Documentation. Image Data Types Image TypeData TypesFile FormatNuclei-staining8 or 16-bit grayscale image stores in a single single-page image file.Highly recommended format.TIFF file (.tif or .tiff)CZI file (.czi)Image tilesNuclei-staining + IF8 or 16-bit grayscale images store in multiple single-page image files.TIFF file (.tif or .tiff)Nuclei-staining + IF8 or 16-bit grayscale images store in a multi-page image file.Only valid for the Zeiss microscope image.CZI file (.czi)H&E24 or 48-bit colored image stored in a single image file.TIFF file (.tif or .tiff)CZI file (.czi)Image tiles Image File Format File FormatAcceptable Microscope Model.tif or .tiff fileAny TIFF.tar.gz QC outputThe output .tar.gz compressed file from Image QC.tif format image tilesCustomized MoticMGI STOmics Microscope Go OpticalLeica DM6 BOther format.czi file from ZEISS Axio Scan.Z1.czi file from ZEISS Axioscan 7 Visit Image QC Navigation for each staining type to get more examples. QC Criteria The quality of an image is a direct reflection of both the stability of the microscope and the excellence of the imaging. The basic assessment includes detecting qualified tracklines and evaluating stitching. Depending on the specific scenarios, the image may also be assessed for clarity and calibration confidence. The specific combination and score threshold vary slightly depending on the image type. The assessments include, Trackline Detection: The tracklines are fiducial markers etched on the surface of the Stereo-seq chip. They can be detected in the microscope image and the sequencing-based spatial feature expression density heatmap, linking the two data modalities. Reliable detection of tracklines from the image is crucial for aligning the image with the spatial feature expression density map.\\ A detection score combines several factors to evaluate the likelihood of successful image registration. The score takes into account the visibility of tracklines and a sufficient number of neighboring tracklines that qualified for deducing a periodic trackline grid, or trackline template. The inferred grid is the key to adjusting the scale, rotation, and position of the image. Image Clarity: Image clarity evaluates the likelihood of getting a clear cell segmentation result. The image is split into tiles and classified into good, moderately blurred, severely blurred, slightly overexposed, or severely overexposed by a deep learning model based on a convolutional neural network. Microscope Stitching Stability: Microscope stitches image FOVs to get a panoramic image that reveals the entire tissue morphology. Stitching errors may happen due to several reasons, vibrations or movements of the microscope stage during image acquisition, external disturbances on the lab bench, or poor stitching algorithm. Stitching errors impact the accuracy and reliability of the resulting stitched image. The visible seams or misaligned features in the overlapped region will lead to misidentified features or boundaries which affect the result of image registration and segmentation. In Image QC, the assessed image is split into FOVs to measure the morphology feature similarity of adjacent overlapping regions. Image Calibration: In experiments involving the acquisition of multiple images of the same chip, the images necessarily have consistent stitching, registration, and tissue region. Due to the limitation of staining and imaging, the tracklines - critical for accurate image registration - are only visible in the nuclei-staining image. Therefore, the other images must first align with the nuclei-staining image and then be registered with the spatial feature expression density map using the same actions. The similarity and feature offset are computed to evaluate the confidence that the two images are aligned. This assessment is only applied in nuclei-staining + mIF scenarios and is only applied for single-channel images. AssessmentScoreExampleTrackline Detection≥ 60, sufficient amount of qualified tracklines is detected. The image can be automatically registered with the sequencing-based spatial feature expression matrix.Necessary assessment indicator to pass QC.Image Clarity≥ 80, a good image that is highly likely to get accurate cell identification and segmentation.Prefer-to-pass assessment indicator in QC.Microscope Stitching Stability(Stitching Evaluation)≥ 60, more than 30% of FOVs exhibit clearly similar morphology features in the adjacent overlapping regions, and the mean feature offset score of these FOVs is greater than 0.7.Conditional assessment indicator.Image CalibrationPass, the maximum feature offset between nuclei-staining image and another image ≤ 20 pixels and the feature morphology similarity ≥ 1%.Fail, the maximum feature offset between nuclei-staining image and another image > 20 pixels or the feature morphology similarity Conditional assessment indicator. *Refer to STOmics Microscope Assessment Guideline - Chapter 4 Microscope Image Assessment - 4.3. Image Examples for more information about image quality. Image QC Navigation Image QC interface components are shown here: Open the image QC tool and drag the image to the window, the Image Information section will be automatically filled. Make sure at least the Chip SN, Operator, Image Path, and Staining Types have been accurately filled. The Run button will be available for clicking, allowing you to start a QC assessment. Image informationDescription and exampleChip SNStereo-seq chip serial number. You can find SN from the bottom of the Stereo-seq chip.E.g. S1 (1x1) chip: SS200000135TL_D1, C02533CS0.5 (0.5x0.5) chip: FP200009107_E414, B03210C211Large chip: SS200000108BR_A3A4, D02070C3D3Please ensure that the SN and the image correspond accurately.OperatorUser information. Recommend to enter your email address.Image PathPath of your image which is prepared to be checked.The path will be auto-filled in once you have dragged and dropped your image into the window.To avoid any foreseeable errors, refrain from using any characters other than English letters, numbers, or underscores.Staining TypesImage staining type. Valid options are ssDNA, DAPI, DAPI+mIF, and H&E.UploadUpload image to STOmcis Cloud or customized path. Valid options:No: do not upload any image.QC Input Files (Microscope image): upload microscope image in its original format.QC Output Files (TAR.GZ): upload image that has been checked by image QC.Select all: upload both input files and output files.See Uploading Settings for details.RemarkAny comments to the image or this QC process. If your image is in TIFF format, you will be prompted to provide additional microscope details. This information is crucial for accurately measuring the image scale and generating the trackline template. If you are unable to retrieve the specific microscope settings, you can use the default value. However, it is strongly recommended to input the precise information whenever possible. A comprehensive QC process involves two steps, QC Index Evaluation and Image Compression. Additionally, if you choose to Upload your QC files, successful completion of the image uploading becomes an integral part of your QC progression. The progression, result of each QC assessment, and overall QC conclusion along with further analysis suggestions will be displayed on the screen. Once the QC progression concludes successfully, you’ll have access to the QC result file in your file system in StereoMapWorkspace -> QC folder. The saving path can be changed in Setting. If your image successfully pass the QC, the QC output .tar.gz can be transferred to the SAW count pipeline through the --image-tar argument. This will enable it to be automatically co-processed with the feature expression matrix. Conversely, if your image does not pass QC but you still want to co-visualize it with the feature density map, you will have to input your image file to the StereoMap Image Processing module and manually manipulate rectify the issue steps before transferring to SAW. QC Tips Specific for Image Types Nuclei-staining Image: ssDNA or DAPI Input example: File FormatExample.tif or .tiff file.tar.gz QC output.tif format image tilesMotic:STOmics Microscope Go Optical:Leica:Other formatZeiss .czi The nuclei-staining image undergoes assessment based on two factors: Trackline Detection and Image Clarity. Notably, Trackline Detection serves as the direct indicator of the overall QC result. A typical QC progression time for a nuclei-staining image (10X objective, 8-bit .tif file, ~20,000 px x 20,000 px for a 1 cm x 1 cm Stereo-seq Chip) is ~2.5 min. Processing time will be longer with a larger image or a bit depth of 16. Nuclei-staining & Immunofluorescence Image: DAPI + mIF Input example: Please rename your images or the image folders so that the software can read the staining name correctly. \"<>\" embraces the information that needs to be replaced. DAPI: \\ IF: \\_\\_IF File FormatExample.tif or .tiff file.tar.gz QC output.tif format image tilesMotic:STOmics Microscope Go Optical:Other formatZeiss multi-page .czi The evaluation of a set of images, which includes a nuclei-staining image and multiple IF images, relies on four factors: Trackline Detection, Image Clarity, Stitching Evaluation, and Image Calibration. It's important to note that indicators other than Image Clarity directly impact the overall QC result. A typical QC progression time for a nuclei-staining image and 2 IF images (10X objective, 8-bit .tif file, ~20,000 px x 20,000 px for a 1 cm x 1 cm Stereo-seq Chip) is ~3 min. If your input images are 16-bit images or image tiles, the expected time cost will be longer due to the longer parsing time and extra Stitching Evaluation. The Stitching Evaluation takes approximately 2 min for each image. Hematoxylin & Eosin Staining Image: H&E Input example: File FormatExample.tif or .tiff file.tar.gz QC output.tif format image tilesMotic:STOmics Microscope Go Optical:Other format The quality of the H&E image is evaluated based on Trackline Detection. Identifying tracklines in an H&E image is more challenging than in a grayscale image, so it is important to ensure that the lines are as visible as possible under the microscope. A typical QC progression time for an H&E image (10X objective, 48-bit .tif file, ~20,000 px x 20,000 px for a 1 cm x 1 cm Stereo-seq Chip) is ~4 min. The H&E image is a color image that is triple the size of the grayscale image, so the parsing time is longer. Also, if your input images are image tiles or a .tar.gz QC output, the expected time cost will be longer due to the longer stitching and parsing time. Uploading Settings Uploading settings setup configurations for transferring image files to HPC or cloud. If you have any queries about which mode is most suitable for your situation, please don’t hesitate to reach out to the FAS. Built-in Upload Path Upload path typeDescriptionRegionALICLOUDALICLOUD mode transfer image through Alibaba Cloud. This mode is ideal for users in regions where STOmics Cloud has been deployed on Alibaba Clous.If there are newly established regions, please reach out to FAS to set up the necessary configurations.SINGAPORE, APAWSAWS mode allows for transferring image files via Amazon Web Service (AWS). This mode is ideal for users in regions where STOmics Cloud has been deployed on AWS.If there are newly established regions, please reach out to FAS to set up the necessary configurations.CALIFORNIA, USRIGA, EUSINGAPORE, APHPCHPC mode is a configuration used for the laboratory’s internal network, enables the uploading of image files to the local cluster. Please contact FAS to arrange the configuration in advance. Preferably used for STOmics Tech internal network.CHONGQING, CNSHENZHEN, CNRAYSYNCTransfer image file with Raysync. By connecting to internet, you can transfer files to the region's cluster without any additional setup.CHONGQING, CNQINGDAO, CNSHENZHEN, CN Customize Upload Path If you have purchased your own Alibaba Cloud or AWS cloud service, you can transfer your image to your personal cloud storage bucket by setting a customized upload path. Select your cloud service type, which can be either ALICLOUD.CUSTOM or AWS.CUSTOM, and set the region to OWNER. Enter your remote path, keyID, password, and the name of your S3 bucket. If your cloud is Alibaba Cloud, you will need to fill in the domain information as well. Finally, click on Confirm to complete editing. You will find your customized configuration in the Upload information configuration window. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/bioinformatics-analysis/":{"url":"tutorials/bioinformatics-analysis/","title":"Bioinformatics Analysis","keywords":"","body":"Bioinformatics AnalysisBioinformatics Analysis Learn about application features in the assay analysis. Stereo-seq T FF Stereo-seq N FFPE © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/bioinformatics-analysis/stereo-seq-t-ff.html":{"url":"tutorials/bioinformatics-analysis/stereo-seq-t-ff.html","title":"Stereo-seq T FF","keywords":"","body":"Stereo-seq T FFCheck Image AlignmentCo-expression of Selected GenesCharacterize Substructure and Generate New HeatmapMID FilteringDifferential Expression AnalysisStereo-seq T FF Check Image Alignment The tracklines on the chip surface act as markers to help with image registration. They are created when the capturing probe is unloaded and will show up as narrow lines on the spatial feature expression density heatmap. A good alignment is achieved when the tracklines perfectly overlap with the lines visible on the image. Highly recommend zooming in on the tissue edges to check the quality of the alignment. A small tip for examining alignment, begin by inspecting the two diagonal fields of view. If these views perfectly overlap, it’s likely that the overall alignment is suitable. However, if most of the track lines do not overlap, you will need to realign the image manually. Refer to the Navigation for Image Processing for instructions on how to do this. If the tracklines overlap perfectly in one field of view but are mismatched in the diagonal view, it could indicate an issue due to stitching problems in your microscope image. Co-expression of Selected Genes To compare the expression distribution of features, you can visualize them in different colors. Start by selecting the interested genes, the Canvas shows a summarized expression heatmap. Next, click the Layer menu to expand the panel and open the Gene Heatmap layer setting window. Select the Multi-colored option under the Display Schemes, you can now compare and contrast the location of the selected genes. Note that the two selected genes are not co-expressed in the tissue. If the color assigned to the gene or display setting is not optimal, click the color dot next to the selected gene to open the feature display setting window. You can change the color profile or adjust any settings. Unlike the previous selection, here we select genes that exhibit co-expression in blended colors of yellow and violet. Characterize Substructure and Generate New Heatmap To identify substructure within tissue samples, the Lasso selection function can be a useful tool. You can manually delineate the regions of interest within the tissue samples. These selected regions can be scattered or continuous. The regions labeled with the same name are grouped together. If you have exited lasso mode after saving the label, but realize that you need to cover another region, you can simply use the same label name to lasso select the remaining region. Once the regions have been well-labeled, the coordinate information can be saved and passed to SAW reanalyze to obtain the spatial feature expression matrix for the chosen region. Click to the right of group or label name and choose GeoJSON to lasso targeted area to export the lasso GeoJSON file. You can find the output YYYYMMDDHHMMSS.lasso.geojson file in your file system under StereoMapWorkspace -> Lasso directory. Pass the lasso GeoJSON file path to SAW reanalyze pipeline through the --lasso-geojson argument to generate the matrix of the lasso area. It is important to make the GeoJSON available to both SAW and the computing environment where the pipeline is run. The lasso GeoJSON stores the coordinates of the region contour, rather than the spots, allowing it to be used as input for square bin or cell bin computation. For generating new matrics in fixed-sized square bins, input .gef through the --gef argument and specify bin sizes with --bin-size. saw reanalyze \\ --gef=/path/to/input/GEF \\ --lasso-geojson=/path/to/lasso/YYYYMMDDHHMMSS.lasso.geojson \\ --bin-size=1,20,50,100,200 \\ --output=/path/to/output/folder For exporting new matrics in cell bins, input .cellbin.gef through the --cellbin-gef argument. saw reanalyze \\ --cellbin-gef=/path/to/input/cellbin/GEF \\ --lasso-geojson=/path/to/lasso/YYYYMMDDHHMMSS.lasso.geojson\\ --output=/path/to/output/folder The newly generated matrices can be used for further analysis. MID Filtering Preprocessing spatially resolved transcriptomic expression data is essential to eliminate noise before downstream analyses. The MID filtering function is specifically designed to manually remove under- or over-expressed spots of each selected feature, allowing for a focus on its spatial pattern. The filtering function is applied to each selected feature individually, allowing for separate adjustments and different filtering thresholds. The filtering thresholds represent the lower and upper limits of the MID count and vary with bin sizes. Therefore, it is highly recommended to first switch to the intended bin size that you plan to use in the subsequent analyses before making adjustments to the MID filtering. The output matrix concatenates the filtered matrix of each feature and can be used in downstream analyses. Differential Expression Analysis New feature! Compatible with SAW >= V8.0. Differential expression analysis is conducted on spot groups, such as clusters, or spatial regions, such as lasso labels. For clusters, click -> GeoJSON for differential expression and Confirm to export the necessary information passed to SAW reanalyze for performing computation. For lasso labels, you need first to create at least two labeled regions in a group. Then, click located to the right of the group name and select GeoJSON for differential expression. In the pop-up window, select the analysis method, and click Confirm to export the necessary information passed to SAW reanalyze for performing computation. Two differential expression methods are available: Label vs. others: To identify features that are differentially expressed between a specific label (cluster) and all other clusters combined. Label vs. label: To identify features that distinguish a specific label (cluster) from each other label within the same group. After exporting, you will find the differential expression analysis parameters recorded in the YYYYMMDDHHMMSS.diffexp.geojson file in your file system under StereoMapWorkspace -> Diffexp directory. Pass the GeoJson file path to SAW reanalyze pipeline through the --diffexp-geojson argument to generate the analysis result. It is important to make the GeoJSON available to both SAW and the computing environment where the pipeline is run. ```sh SAW reanalyze \\ --count-data=/path/to/previous/SAW/count/result/folder/id \\ ##the last SAW count outputs --diffexp-geojson=/path/to/StereoMap/diffexp/YYYYMMDDHHMMSS.diffexp.geojson \\ ##diffexp GeoJSON from StereoMap --output=/path/to/output/folder ##output folder ``` SAW outputs include a _marker_features.csv file which is a formatted CSV file containing differential expression analysis result for visualization in StereoMap. Download the file to your local computer to open it in StereoMap by Load CSV file (see Feature Menu -> Load and Save). The differential expression analysis result table will be open in a linked new window. You can reorder the table by clicking the “up” and “down” arrows of log2 fold change (L2FC) or p-values of each gene and cluster to see the significant features. Clicking on a feature name in the table will reveal the corresponding gene expression distribution on the canvas in summarized heatmap. Additionally, for multiple features, you can explore their co-expressed relationship by showing them in multi-color mode. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"tutorials/bioinformatics-analysis/stereo-seq-n-ffpe.html":{"url":"tutorials/bioinformatics-analysis/stereo-seq-n-ffpe.html","title":"Stereo-seq N FFPE","keywords":"","body":"Stereo-seq N FFPERegion Annotation Based on H&E ImageMicroorganism and Host GenesStereo-seq N FFPE Region Annotation Based on H&E Image Spatial transcriptomics allows for the visualization and quantification of gene expression data in the context of the original tissue architecture. It generates a gene expression heatmap that characterizes the gene’s activity over the tissue. This can provide insights into the functional organization of tissues at the molecular level. On the other hand, H&E staining provides a detailed view of tissue architecture and histologic information. It allows pathologist to easily differentiate between the nuclear and cytoplasmic parts of a cell. The overall patterns of coloration from the stain show the general layout and distribution of cells. To annotate regions of interest from tissue and extract corresponding gene expression data to gain a comprehensive understanding of both the structural and functional aspects of tissue, you may prefer to start by label on H&E image based on pathohistological features. First, adjust the opacity of the feature expression heatmap to ensure the H&E image is visible. Following that, use the lasso function to annotate on the H&E image (similar to Characterize Substructure and Generate New Heatmap). Press Enter to complete the selection and click Save to naming the annotation. If you need a group contains multiple annotated regions, remember to label them under the identical group name. You are now able to leave the lasso mode and modify the heatmap’s opacity to view the annotations on different layers. After annotation, if you would like to obtain the spatial feature expression matrix of the selected regions, click to the right of the group or label name and choose GeoJSON to lasso targeted area. Or, if you would like to understand the differences between annotated regions, choose GeoJSON for differential expression. You can find the output YYYYMMDDHHMMSS.lasso.geojson file in your file system under StereoMapWorkspace -> Lasso directory, or YYYYMMDDHHMMSS.diffexp.geojsonfile under StereoMapWorkspace -> Diffexp directory. See Characterize Substructure and Generate New Heatmap for details on how to pass the GeoJSON file to SAW, and see Differential Expression Analysis for details on the explanation of differential expression methods and how to pass the GeoJSON file to SAW. Microorganism and Host Genes Stereo-seq N FFPE product capture total RNA information by free probe design. This design also allows for efficient capturing of microorganisms. SAW count pipeline for Stereo-seq N FFPE kit with argument --micro-detect outputs the host's spatial gene expression matrix and microorganism distribution matrix. Open .stereo In StereoMap Visual Explore, microorganism distribution matrix can be accessed in layer menu under Microorganism category. Click in front of the layer name to open it in a new linked window. The main window and the linked window are connected based on spot coordinates. In the main window, you can choose clusters or use lasso selection to highlight specific regions. These selected spots will then be highlighted in the linked window, along with their corresponding content. In the example below, the main window depicts spatial clusters in bin 200, while the linked window illustrates the distribution of microorganisms in the same bin. When you choose Clusters in the main window, the linked window will exclusively display spots with corresponding coordinates. In the linked window, you can utilize the lasso function once more. Doing so will allow the statistic panel to show the components of the selected spots. Microorganisms are classified into taxonomic levels using a hierarchy followed by a double underline and the microbial species name. These levels are represented by abbreviations: p (phylum), c (class), o (order), f (family), g (genus), and s (species). For instance, the genus Mycobacterium is represented as **g\\_Mycobacterium**_ in the feature and statistics panel. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"support-pages/support.html":{"url":"support-pages/support.html","title":"Support","keywords":"","body":"SupportSupport Please contact us for any questions or suggestions: Greater China regions: services@stomics.tech Overseas: info_global@stomics.tech © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"support-pages/datasets.html":{"url":"support-pages/datasets.html","title":"Datasets","keywords":"","body":"DatasetsStereo-seq T Fresh Frozen (FF)Stereo-CITE T Fresh Frozen (FF)Stereo-seq N Formalin Fixed & Paraffin Embedded (FFPE)Datasets Click here to visit StereoMap visualization demo datasets. Kit version records the input information of the SAW count --kit-version argument. Stereo-seq T Fresh Frozen (FF) DatasetChip sizeKit versionPipeline versionSpeciesDisease stateAnatomical tissue Staining methodSS200000135TL_D1_mouse_brain_Stereo-seq_T_FF1 cm x 1 cmStereo-seq T FF V1.2≥ SAW 5.5MouseHealthyBrainssDNA SS200000059_NC_mouse_testis_Stereo-seq_T_FF1 cm x 1 cmStereo-seq T FF V1.2≥ SAW 6.0MouseHealthyTestisDAPI + 2 IF images (AKAP3, TESK2)FP200009107_E414_mouse_olfactory_bulb_Stereo-seq_T_FF0.5 cm x 0.5 cmStereo-seq T FF V1.2≥ SAW 6.1MouseHealthyOlfactory bulbDAPID02070C3D3_mouse_embryo_Stereo-seq_T_FF1 cm x 2 cmStereo-seq T FF V1.2≥ SAW 6.1MouseHealthyEmbryoDAPIB01207E3G4_rat_brain_Stereo-seq_T_FF2 cm x 3 cmStereo-seq T FF V1.2≥ SAW 6.1RatHealthyBrainssDNAC02533C1_mouse_kidney_Stereo-seq_T_FF1 cm x 1 cmStereo-seq T FF V1.2≥ SAW 7.0MouseHealthyKidneyH&E Stereo-CITE T Fresh Frozen (FF) DatasetChip sizeKit versionPipeline versionSpeciesDisease stateAnatomical tissue Staining methodA02677B5_mouse_thymus_Stereo-CITE1 cm x 1 cmStereo-CITE T FF V1.0SAW 7.1MouseHealthyThymusDAPI Stereo-seq N Formalin Fixed & Paraffin Embedded (FFPE) DatasetChip sizeKit versionPipeline versionSpeciesDisease stateAnatomical tissue Staining methodC04144D5_mouse_brain_Stereo-seq_N_FFPE1 cm x 1 cmStereo-seq N FFPE V1.0≥ SAW 8.0MouseHealthyBrainssDNA C04138G3_mouse_brain_Stereo-seq_N_FFPE1 cm x 1 cmStereo-seq N FFPE V1.0≥ SAW 8.0MouseHealthyBrainH&EC04496D6_mouse_brain_Stereo-seq_N_FFPE1 cm x 1 cmStereo-seq N FFPE V1.0≥ SAW 8.0MouseHealthyBrainH&EC04495G4_mouse_lung_microorganism_Stereo-seq_N_FFPE1 cm x 1 cmStereo-seq N FFPE V1.0≥ SAW 8.0MouseInfected with Mycobacterium tuberculosisLungH&E © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"support-pages/software-and-kit-compatibility.html":{"url":"support-pages/software-and-kit-compatibility.html","title":"Software and Kit Compatibility","keywords":"","body":"Software and Kit CompatibilitySoftware and Kit Compatibility StereoMap VersionCompatible SoftwareCompatible KitsRelease DateStereoMap 4.0SAW 8.0(ImageStudio has been merged with StereoMap since 4.0)New: Stereo-seq FFPE V1.0Stereo-CITE FF V1.0Stereo-seq FF V1.2 (H&E application)Stereo-seq FF LCD V1.0Stereo-seq FF V1.2 (mIF application)Stereo-seq FF V1.2Jun., 2024StereoMap 3.1SAW 7.1ImageStudio 3.0New: Stereo-CITE FF V1.0 Others same to StereoMap 3.0Mar., 2024StereoMap 3.0SAW 7.0ImageStudio 3.0New: Stereo-seq FF V1.2 (H&E application)Stereo-seq FF LCD V1.0Stereo-seq FF V1.2 (mIF application)Stereo-seq FF V1.2Nov, 2023StereoMap 2.1SAW 6.1ImageStudio 2.1New: Stereo-seq FF LCD V1.0Others same to StereoMap 2.0Jul., 2023StereoMap 2.0SAW 6.0ImageStudio 2.0New: Stereo-seq FF V1.2 (mIF application)Stereo-seq FF V1.2Feb., 2023StereoMap 1.0SAW 5.4 & 5.5ImageStudio 1.0Stereo-seq FF V1.2Jan., 2023 © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 16:46:37 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"},"release-notes/release-notes-for-stereomap.html":{"url":"release-notes/release-notes-for-stereomap.html","title":"Release Notes for StereoMap","keywords":"","body":"Release Notes for StereoMap4.0.1 (July, 2024)4.0.0 (June, 2024)Release Notes for StereoMap 4.0.1 (July, 2024) Fixed several known issues. 4.0.0 (June, 2024) New entrance interface for Visual Explore, Image Processing, and Tools. Open one .stereo manifest file in the SAW-generated bundle file for visualizing any datasets. No need to understand the correlation between visualization and the content of each file. Adds functionalities in Visual Explore for manually labeling regions and organizing labels into groups. Select label group and \"Export differential analysis file\" to set parameters export to the differential analysis pipeline in SAW. StereoMap introduces a redesigned Image Processing tool to enable more accurate segmentation of Stereo-seq image data before exporting to SAW. This update includes: New and improved user interface for processing images in a list of recommended steps. Support for uploading segmentation binary .tif image results generated by any applications or algorithms at the tissue segmentation and cell segmentation steps. The uploaded segmentation binary result will be passed into SAW for extracting the tissue/cell matrix. The Image Processing steps also include an image registration step, which allows for manually aligning Stereo-seq image with a spatial gene expression matrix. Introduction of Image QC tool for evaluating image quality. The image passed QC can be auto-processed by SAW, otherwise, needs to be manually processed using the Image Processing tool. © 2024 STOmics Tech. All right reserved.Modified: 2024-09-30 17:47:45 document.addEventListener(\"DOMContentLoaded\", function() {lightbox.option({\"resizeDuration\":200,\"wrapAround\":true});})"}}